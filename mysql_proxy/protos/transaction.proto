syntax = "proto3";

option objc_class_prefix = "HLW";

package transaction;

service Transaction {
  rpc sendBlock(Block) returns (Acknowledgement) {}
}

message VisitedNodes {
  string url = 1;
}

message Block {
  string precedingHash = 1;
  string encryptedPayload = 2;
  repeated VisitedNodes visitedNodes = 3;
}

message Acknowledgement {
  enum Type {
    WE_ARE_OUT_OF_DATE = 0;
    THEY_ARE_OUT_OF_DATE = 1;
    WE_ARE_IN_SYNC = 2;
  }
  Type type = 1;
}
